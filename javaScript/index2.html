<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JavaScript基本</title>
  <script>
    // 入力ダイヤログ
    // var promptStr = prompt('何か好きな文字を入力してください。');
    // 出力ダイヤログ
    // alert(promptStr);

    // var max = 100;
    // var num = 1;
    // var count = 0;

    // while(num < max){
    //   num = num * 2;
    //   count = count + 1;
    // }

    // alert('2を掛け続けて' + max + 'を超えるのに必要だった回数は' + count + '回です');

    // var numA = 1;

    // if(numA==1){
    //   console.log("numAは１です");
    // }

    // for(var i = 0, j = 0; i < 5; i++){
    //   console.log("i="+i);
    //   console.log("j="+(j+=2));
    //   console.log("======");
    // }

// HTMLの書き換え
window.onload = function(){
  // テキストの書き換え
  var button1 = document.getElementById("button1");
  button1.onclick = function(){
    var elem = document.getElementById("sample");
    elem.textContent = "書き換えました";
  };

  // テキストの追加
  var button2 = document.getElementById("button2");
  button2.onclick = function(){
    var elem = document.createElement("p");
    elem.textContent = "追記しました";
    // 追加場所の指定
    var sample = document.getElementById("sample")
    document.body.insertBefore(elem,sample.nextSibling);
  };

  // テキストの削除
  var button3 = document.getElementById("button3");
  button3.onclick = function(){
    var elem = document.getElementById("sample");
    document.body.removeChild(elem);
  };

// 要素オブジェクトのプロパティとしてイベントハンドラーを定義
  var button = document.getElementById("button4");
  button.onclick = function(){
    window.alert("クリックしました");
  };
};

// 要素のタブ内でイベントハンドラーを定義
function buttonClick(){
  window.alert('クリックしました');
};

// イベントリスナーの定義
window.addEventListener("DOMContentLoaded", function(){
  var button = document.getElementById("button5");
  button.addEventListener("click", function(){
    window.alert("クリック");
  });
  button.addEventListener("click", function(){
    window.alert("２回目のクリック");
  });
  // 既定イベントをキャンセル
  var link = document.getElementById("link");
  link.addEventListener("click", function(event){
    event.preventDefault();
    window.alert("リンクがクリックされました");
  });

  // マウス操作でのイベント
  var image = document.getElementById("logoImg");
  // マウスオーバー時
  image.addEventListener("mouseover", function(event){
    this.src = "images/logo.jpg";
  });
  // マウスアウト時
  image.addEventListener("mouseout", function(event){
    this.src = "images/卒業生アイコン.jpg";
  });

  // セレクトボックスのオブジェクトを取得
  var areaSelect = document.getElementById("area");
  var prefSelect = document.getElementById("pref");
  // 地方以下の都道府県の配列
  var prefList = [
  ["北海道","青森","岩手","宮城","秋田","山形","福島"],
  ["東京","茨城","栃木","群馬","埼玉","千葉","神奈川"],
  ["新潟","富山","石川","福井","山梨","長野","岐阜","静岡","愛知"],
  ["京都","大阪","三重","滋賀","兵庫","奈良","和歌山"],
  ["鳥取","島根","岡山","広島","山口"],
  ["徳島","香川","愛媛","高知"],
  ["福岡","佐賀","長崎","大分","熊本","宮城","鹿児島","沖縄"]
  ];
  // 地方のセレクトボックスが選択された際の処理
  areaSelect.addEventListener("change", function(){
    // 都道府県のセレクトボックスを空にする
    prefSelect.innerHTML = "";
    // 「選択してください」が選択された際は処理をここで中断
    if(this.value == "")return;
    // 選択した地方以下の都道府県のリスト
    // 地方のセレクトボックスで選択された値をthis.valueで取得
    var list = prefList[this.value];
    // 都道府県のリストから選択項目を作成
    for(var i=0; i<list.length; i++){
      var option = document.createElement("option");
      // optionタブのvalue属性値をIとする
      option.value = i;
      // optionタブのtext属性値をprefListのインデックス番号に対応するテキストとする
      option.text = list[i];
      // 作成した選択項目(都道府県)は、appendChildメソッドで都道府県セレクトボックスに追加
      prefSelect.appendChild(option);
    };
  })
});
</script>
</head>
<body>
  <p id="sample">要素を取得</p>
  <input id="button1" type="button" value="テキストを書き換える">
  <input id="button2" type="button" value="要素を追加する">
  <input id="button3" type="button" value="テキストを削除する">
  <input type="button" value="クリック1" onClick="buttonClick();">
  <input id="button4" type="button" value="クリック2">
  <input id="button5" type="button" value="クリック(イベントリスナー)">
  <a href="http://www.google.co.jp" id="link">リンク</a><br>
  <img id="logoImg" src="images/卒業生アイコン.jpg"><br>
  <select id="area">
    <option value="">選択してください</option>
    <option value="0">北海道,東北地方</option>
    <option value="1">関東地方</option>
    <option value="2">中部地方</option>
    <option value="3">近畿地方</option>
    <option value="4">中国地方</option>
    <option value="5">四国地方</option>
    <option value="6">九州・沖縄地方</option>
  </select>
  <select id="pref">
    <option value="">地方を選択してください</option>
  </select>
</body>
</html>